<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<title>D3 v4 - force layout</title>
<style>
html, body, #graph {
    width: 99%;
    height: 99%;
}
.annotation-title {
    font-weight: bold;
}
#controlPanel {
    position: absolute;
}
#annotationPanel {
    position: absolute;
    right: 0;
}
#plan {
    margin-left: auto;
    margin-right: auto;
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    z-index: -1;
}
#svg {
    margin: 0 0 0 0;
    width: 100%;
    height: 100%;
}
</style>
</head>

<body>
<div id="controlPanel">
    <form name="control">
        <label><input type="checkbox" name="ShowAllRoutes" id="ShowAllRoutes" checked>Show all routes</label><br/>
        <label><input type="checkbox" name="ShowNeighbours" id="ShowNeighbours" checked>Show node neighbours</label><br/>
        <label><input type="checkbox" name="ShowRepeatingFor" id="ShowRepeatingFor" checked>Show nodes this node is repeating for</label><br/>
        <label><input type="checkbox" name="ShowAssociations" id="ShowAssociations" checked>Show associations of a nodes</label><br/>
    </form>
</div>
<div id="annotationPanel">
    <table id="annotation-src">
        <tr><td colspan="2" class="annotation-title">Source</td></tr>
        <tr><td>Id</td><td id="annotation-src-id"></td></tr>
        <tr><td>Name</td><td id="annotation-src-name"></td></tr>
        <tr><td>Type</td><td id="annotation-src-type"></td></tr>
        <tr><td>Status</td><td id="annotation-src-dead"></td></tr>
        <tr><td>Associations</td><td id="annotation-src-associations"></td></tr>
        <tr><td>Routes for</td><td id="annotation-src-routes-for"></td></tr>
    </table>
    <table id="annotation-dst">
        <tr><td colspan="2" class="annotation-title">Destination</td></tr>
        <tr><td>Id</td><td id="annotation-dst-id"></td></tr>
        <tr><td>Name</td><td id="annotation-dst-name"></td></tr>
        <tr><td>Type</td><td id="annotation-dst-type"></td></tr>
        <tr><td>Status</td><td id="annotation-dst-dead"></td></tr>
    </table>
    <table id="annotation-src-dst">
        <tr><td colspan="2" class="annotation-title">Route between source and destination</td></tr>
        <tr><td>Rerouted, %</td><td id="annotation-src-dst-n-reroutes"></td></tr>
        <tr><td>Min hops</td><td id="annotation-src-dst-min-hops"></td></tr>
        <tr><td>Max hops</td><td id="annotation-src-dst-max-hops"></td></tr>
    </table>
</div>
<div id="graph">
    <svg id="svg" viewBox="0 0 200 100" preserveAspectRatio="xMidYMid">
        <image xlink:href="floor1-2008-11-06 svet.jpg" x="0" y="0" height="100%" width="100%"/>
        <defs>
            <pattern id="pattern-stripe" width="0.5" height="0.5" patternUnits="userSpaceOnUse" patternTransform="rotate(45)">
                <rect width="0.25" height="0.5" transform="translate(0,0)" fill="white"></rect>
            </pattern>
            <mask id="mask">
                <rect x="0" y="0" width="100%" height="100%" fill="url(#pattern-stripe)" />
            </mask>
        </defs>
    </svg>
</div>

<script src="d3.v4.min.js"></script>
<script src="data.js"></script>
<script src="ZWaveAnalytics.min.js"></script>
<script src="ZWaveRouteMapDraw.min.js"></script>
<script>
    var zna = new ZWaveNetworkAnalyticsLib(zway, comHist, nodesPositions);
    var zrp = new ZWaveRoutesPlotLib(zna);
</script>
</body>
</html>
