<!doctype html>
<html lang="en" ng-app="angApp" ng-controller="BaseController">
<head>
    <meta charset="utf-8">
    <title>{{getCustomCfgVal('title')}}</title>
<!-- CSS -->
<link media="screen" type="text/css" rel="stylesheet" href="app/css/build.css">
<!-- App config -->
<script src="app/js/config.js"></script>
<!-- JS -->
<script src="app/js/build.js"></script>

</head>
<body id="page_{{getBodyId()}}" class="is-mobile-{{isMobile}} custom-ip-{{cfg.custom_ip}}">
<!-- Header -->
<div id="header" ng-if="getBodyId()">
    <!-- Main navigation -->
    <div id="main_navigation_wrap">
        <div id="main_navigation" class="container">
            <div id="navigation_left">
                <ul class="navibar">
                    <!-- Home -->
                    <li class="navibar-item">
                        <a class="navibar-item-root"href="#home" title="{{_t('nav_home')}}" ng-class="isActive('home')">
                            <i class="fa fa-home"></i>
                        </a>
                    </li>

                    <!-- Device -->
                    <li class="navibar-divider"> </li>
                    <li class="navibar-item" ng-click="expandNavi('naviDevice', $event)">
                        <a class="navibar-item-root" href="" title="{{_t('nav_device')}}" ng-class="isActive('device',1)">
                            <i class="fa fa-database"> </i> <span class="main-nav-name">{{ _t('nav_device')}}</span>
                        </a>
                        <div class="sub-navigation sub-navigation-left" ng-if="naviExpanded.naviDevice">
                            <ul>
                                <li><a href="#device/status" ng-class="isActive('status',2)">{{ _t('nav_status') }}</a></li>
                                <li><a href="#device/type" ng-class="isActive('type',2)">{{ _t('nav_type_info') }}</a></li>
                                
                                <li>
                                    <a href="#config/configuration"
                                       ng-class="isActive('configuration',2)">{{ _t('nav_configuration') }}</a>
                                </li>
                                <li><a href="#device/associations" ng-class="isActive('associations',2)">{{ _t('nav_active_associations') }}</a></li>
                                <!--  <li><a href="#device/security"{{ _t('nav_security_status') }}</a></li>-->
                            </ul>
                        </div>
                    </li>

                    <!-- Network -->
                    <li class="navibar-divider"> </li>
                    <li class="navibar-item" ng-click="expandNavi('naviNetwork', $event)">
                        <a class="navibar-item-root" href="" title="{{_t('nav_network')}}" ng-class="isActive('network',1)">
                            <i class="fa fa-sitemap"></i> <span class="main-nav-name">{{ _t('nav_network')}}</span>
                        </a>
                        <div class="sub-navigation sub-navigation-left" ng-if="naviExpanded.naviNetwork">
                            <ul>
                                <li>
                                    <a href="#network/control" ng-class="isActive('control',2)">{{ _t('nav_control') }}</a>
                                </li>
                               <li>
                                    <a href="#network/neighbors" ng-class="isActive('neighbors',2)">{{ _t('neighbors') }}</a>
                                </li>
                                
                                <li>
                                    <a href="#network/timing" ng-class="isActive('timing',2)">{{ _t('nav_timing_info') }}</a>
                                </li>
                                <li>
                                    <a href="#network/routemap" ng-class="isActive('routemap',2)">{{ _t('route_map') }}</a>
                                    <!-- <a href="#network/map" dng-class="isActive('map',2)">{{ _t('route_map') }}</a> -->
                                </li>
                                <li>
                                    <a href="#network/linkstatus" ng-class="isActive('linkstatus',2)">{{ _t('nav_linkhealth_info') }}</a>
                                </li>
                               
                            </ul>
                        </div>
                    </li>

                    <!-- Analytics -->
                    <li class="navibar-divider"  ng-if="cfg.analytics.show"> </li>
                    <li class="navibar-item" ng-click="expandNavi('naviInstaller', $event)" ng-if="cfg.analytics.show">
                        <a class="navibar-item-root" href="" title="{{_t('nav_installer')}}" ng-class="isActive('analytics',1)">
                            <i class="fa fa-signal"></i> <span class="main-nav-name">{{ _t('nav_installer')}}</span>
                        </a>
                        <div class="sub-navigation sub-navigation-left" ng-if="naviExpanded.naviInstaller">
                            <ul>
                                <li><a href="#analytics/zniffer" ng-class="isActive('zniffer',2)">{{ _t('nav_zniffer') }}</a></li>
                                <li><a href="#analytics/rssibackground" ng-class="isActive('rssibackground',2)">{{ _t('nav_rssi') }}</a></li>
                                <li><a href="#analytics/rssimeter" ng-class="isActive('rssimeter',2)">{{ _t('nav_rssimeter') }}</a></li>
                               <!--  <li><a href="#installer/history" ng-class="isActive('history',2)">{{ _t('nav_history') }}</a></li> -->
                                <li>
                                    <a href="#analytics/statistics" ng-class="isActive('statistics',2)">{{ _t('statistics') }}</a>
                                </li>
                            </ul>
                        </div>
                    </li>

                    <!-- Settings -->
                    <li class="navibar-divider"></li>
                    <li class="navibar-item">
                        <a class="navibar-item-root" ng-href="#settings" ng-class="isActive('settings',1)">
                            <i class="fa fa-cog"></i>
                        </a>
                    </li>

                    <!-- Time -->
                    <li class="navibar-divider navi-timestamp"></li>
                    <li class="navibar-item navi-timestamp">
                        <span class="timestamp" ng-if="cfg.route.time.string">
                        <i class="fa fa-clock-o"></i> {{cfg.route.time.string}}
                    </span>
                    </li>

                    <!-- Busy indicator -->
                    <li class="navibar-divider navi-timestamp"> </li>
                    <li class="navibar-item navi-timestamp">
                         <span class="timestamp"
                               ng-include="'app/views/indicator.html'"></span>
                    </li>

                    <!-- Internet connection indicator -->
                    <li class="navibar-divider"></li>
                    <li class="navibar-item">
                        <span class="navibar-item-root tooltip-wrap on-hover">
                        <i class="fa fa-globe" ng-hide="cfg.route.fatalError.message" ng-class="isOnline ? 'green' : 'red'" title="{{ _t('connection')}}"></i>
                        <i class="fa fa-exclamation-triangle red" ng-if="cfg.route.fatalError.message" title="{{cfg.route.fatalError.message}}"></i>
                        <span class="tooltip bottom center" ng-if="cfg.route.fatalError.message">
                          <span>{{cfg.route.fatalError.message}}</span>
                          <span>{{cfg.route.fatalError.info}}</span>
                        </span>
                    </span>
                    </li>

                    <!-- Logout - only for CIT  on the https://findcit.z-wavealliance.org/ -->
                    <li class="navibar-divider"> </li>
                    <li class="navibar-item">
                        <a class="navibar-item-root" ng-href="#logout" title="{{ _t('logout')}}">
                            <i class="fa fa-sign-out"></i> <span class="main-nav-name">{{ _t('logout')}}</span>
                        </a>

                    </li>
                </ul>
            </div>
        </div><!-- /#navigation -->
    </div><!-- /#main_navigation_wrap -->
</div><!-- /#header -->

<!-- Installer Container -->
<div class="container-installer" ng-if="getBodyId()">
    <div class="alert alert-success" ng-if="cfg.controller.isRealPrimary && !cfg.controller.hasDevices">
        <div class="container"><i class="fa fa-info-circle"></i> {{_t('ready_to_network')}}</div>
    </div>
    <div class="alert alert-warning" ng-if="cfg.controller.isRealPrimary && cfg.controller.hasDevices">
        <div class="container"><i class="fa fa-check"></i> {{_t('iam_in')}} {{cfg.controller.homeName}}</div>
    </div>
    <div class="alert alert-danger" ng-if="!cfg.controller.isRealPrimary">
        <div class="container"><i class="fa fa-info-circle"></i> {{_t('iam_in_network_homeid')}}: {{cfg.controller.homeName}}</div>
    </div>
    <!-- CIT licence warning -->
    <div class="alert alert-warning" ng-if="alertCitLicence">
        <div class="container"><i class="fa fa-exclamation-circle"></i> {{_t(alertCitLicence)}}</div>
    </div>
</div>
<!-- Ang Container -->
<div id="main_content" class="container">
    <div id="view_content" ng-hide="cfg.route.fatalError.hide" ng-view></div>
</div>
<div class="clearfix"></div>

<div id="footer" ng-if="getBodyId()">
    <div id="footer_in">
        <div class="container">
            <span class="copyright" ng-bind-html="getCustomCfgVal('footer_text') | toTrusted"></span>
            <span class="copyright">{{version}}</span>
            <span class="timestamp" ng-if="cfg.route.time.string"><i class="fa fa-clock-o"></i> {{cfg.route.time.string}}</span>
            <span class="timestamp"> | </span>
            <span class="timestamp" ng-include="'app/views/indicator.html'"></span>
        </div>
    </div>
</div>
</body>
</html>